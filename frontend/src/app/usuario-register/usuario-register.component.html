<div class="codigo-form-container">
  <h2>Registro de Nuevo Usuario</h2>

  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <form (ngSubmit)="onSubmit()" #registerForm="ngForm">

    <div class="form-group">
      <label for="usuario">Usuario:</label>
      <input
        type="text"
        id="usuario"
        [(ngModel)]="usuario"
        name="usuario"
        class="texto-em"
        required
        minlength="3"
        #usuarioInput="ngModel"
      />
      <div *ngIf="usuarioInput.invalid && usuarioInput.touched" class="text-danger">
        El usuario es obligatorio y debe tener al menos 3 caracteres.
      </div>
    </div>

    <div class="form-group">
      <label for="nombres">Nombres:</label>
      <input
        type="text"
        id="nombres"
        [(ngModel)]="nombres"
        name="nombres"
        class="texto-em"
        required
        #nombresInput="ngModel"
      />
      <div *ngIf="nombresInput.invalid && nombresInput.touched" class="text-danger">
        Los nombres son obligatorios.
      </div>
    </div>

    <div class="form-group">
      <label for="correo">Correo:</label>
      <input
        type="email"
        id="correo"
        [(ngModel)]="correo"
        name="correo"
        class="texto-em"
        required
        #correoInput="ngModel"
      />
      <div *ngIf="correoInput.invalid && correoInput.touched" class="text-danger">
        Ingresa un correo válido.
      </div>
    </div>

    <div class="form-group">
      <label for="password">Contraseña:</label>
      <input
        type="password"
        id="password"
        [(ngModel)]="password"
        name="password"
        class="texto-em"
        required
        minlength="6"
        #passwordInput="ngModel"
      />
      <div *ngIf="passwordInput.invalid && passwordInput.touched" class="text-danger">
        La contraseña debe tener al menos 6 caracteres.
      </div>
    </div>

    <div class="form-group">
      <label for="repassword">Reingresa Contraseña:</label>
      <input
        type="password"
        id="repassword"
        [(ngModel)]="repassword"
        name="repassword"
        class="texto-em"
        required
        #repasswordInput="ngModel"
      />
      <div *ngIf="repasswordInput.invalid && repasswordInput.touched" class="text-danger">
        Por favor confirma la contraseña.
      </div>
      <div *ngIf="passwordMismatch && repasswordInput.touched" class="text-danger">
        Las contraseñas no coinciden.
      </div>
    </div>

    <div class="button-group">
      <button type="submit" class="btn btn-primary" [disabled]="registerForm.invalid || passwordMismatch">Registrarse</button>
    </div>

  </form>
</div>
